window.onload=function() {

	/* Draw demo. */
	var data = [];

	var waveform = new Waveform({
	  container: document.getElementById("demo_draw"),
	  interpolate: false
	});
	var ctx = waveform.context;

	var gradient = ctx.createLinearGradient(0, 0, 0, waveform.height);
	gradient.addColorStop(0.0, 'rgb(0, 130, 230)');
	gradient.addColorStop(1.0, 'rgb(230, 130, 0)');
	
	waveform.innerColor = gradient;

	var i=0;
	setInterval(function(){
	  data.push(Math.cos(i++/25) - 0.2 + Math.random()*0.3);
	  waveform.update({
		data: data
	  });
	}, 50);

	/* Weird demo. */
	new Waveform({
	  container: document.getElementById("demo_weird"),
	  innerColor: function(x, y){
	    return '#'+Math.floor(Math.random()*16777215).toString(16);
	  },
	  /* data: [25,38,43,44,41,42,40,43,40,39,39,39,45,42,43,43,51,49,52,52,76,79,83,80,87,83,79,90,85,80,86,97,84,89,83,101,86,86,84,89,111,103,101,101,101,102,98,88,101,100,96,98,96,91,89,86,81,106,115,90,111,98,113,100,105,109,115,120,109,108,105,104,100,107,103,109,103,107,114,100,118,109,115,104,98,96,101,97,98,100,106,105,105,112,108,109,116,119,112,113,101,98,117,117,109,134,133,108,124,113,112,59,87,116,102,114,132,104,103,77,82,62,106,104,92,125,131,96,114,97,104,85,79,120,99,137,134,97,101,89,112,103,119,117,110,119,132,108,129,115,125,100,101,119,115,120,133,116,111,93,116,108,115,120,114,113,108,122,127,109,113,113,100,108,114,119,125,114,132,89,122,128,109,109,111,130,132,111,128,121,104,76,107,118,116,114,138,108,104,70,111,92,106,129,100,116,136,118,122,117,111,88,109,115,103,101,138,111,114,86,93,83,107,117,96,112,128,113,127,120,110,95,104,125,120,122,137,116,111,96,108,105,122,119,109,118,137,100,126,103,106,99,101,120,118,108,130,101,113,106,110,84,113,126,108,125,134,110,129,122,118,93,93,116,112,116,135,113,114,96,90,68,115,115,93,122,136,118,129,124,120,107,86,119,111,116,137,115,108,91,94,93,101,114,106,111,137,117,128,122,124,75,106,119,114,109,136,109,117,105,106,105,125,114,116,114,137,119,129,110,116,100,86,109,113,113,136,121,118,119,116,114,124,126,115,132,132,114,129,126,116,96,99,115,114,123,128,117,118,105,109,105,118,111,109,109,133,107,119,110,113,99,100,120,110,113,135,116,119,96,99,86,123,112,103,124,136,118,129,125,117,97,105,127,122,108,134,121,117,96,96,99,121,125,115,116,135,116,119,103,114,106,85,120,121,108,137,120,120,111,106,99,115,126,120,121,135,115,120,122,114,91,101,116,113,130,135,119,117,98,91,108,123,109,106,127,128,110,127,118,120,91,105,120,104,112,135,116,131,109,115,84,117,114,107,119,135,112,127,119,121,101,95,127,117,120,138,121,119,96,98,91,106,128,119,121,109,111,123,114,116,87,125,127,102,129,138,126,122,115,108,101,116,123,115,120,131,110,129,119,115,95,103,114,108,113,138,112,110,91,89,70,121,113,106,121,135,119,117,115,124,111,111,119,114,113,135,114,113,102,102,101,127,132,120,121,127,112,120,114,116,96,101,120,110,109,136,107,109,100,109,103,120,128,109,118,137,127,122,117,120,122,112,117,113,116,138,121,121,115,115,99,126,115,112,117,131,112,133,116,115,94,97,125,110,106,136,107,114,96,115,102,91,120,112,115,136,118,127,113,115,99,98,121,114,107,137,113,110,110,110,102,128,128,113,127,134,119,130,123,117,97,121,117,115,101,138,114,109,100,100,98,118,119,105,115,139,121,127,106,119,95,126,119,110,129,139,131,128,125,120,80,106,111,94,117,121,110,122,118,108,95,102,123,120,115,121,111,112,104,97,63,107,102,94,117,115,112,120,114,121,107,99,115,110,115,122,113,119,102,106,106,127,117,98,107,103,99,124,123,114,99,103,117,116,111,114,117,121,91,109,98,119,120,96,118,114,120,119,107,124,105,114,122,111,117,119,112,125,115,117,87,114,123,113,123,136,101,126,123,122,94,111,126,120,121,137,117,113,113,109,99,112,109,105,106,130,102,123,121,112,105,109,130,118,112,133,119,115,108,97,101,109,106,101,109,136,113,127,118,116,110,111,119,111,116,130,120,116,108,112,80,115,116,105,114,138,112,116,107,110,111,96,106,103,116,138,128,131,120,108,101,122,121,112,110,134,114,122,120,117,98,110,124,111,108,134,119,116,108,94,114,125,116,106,110,133,107,121,119,106,101,104,109,108,115,132,117,121,101,100,73,114,117,103,123,133,110,130,120,128,97,81,119,121,127,137,104,112,96,98,106,119,123,103,119,138,117,127,115,111,117,84,116,108,113,138,124,123,110,111,103,128,127,120,114,134,112,128,123,120,109,109,127,116,110,136,122,116,104,104,116,113,115,116,111,132,113,124,119,123,105,104,117,113,112,138,100,122,112,110,75,120,119,115,132,119,117,127,118,124,105,100,113,120,125,121,117,115,108,115,101,115,114,109,123,110,112,126,115,118,115,130,120,109,121,134,127,126,116,118,100,113,125,123,120,133,116,117,120,114,96,104,122,112,113,135,118,108,107,114,108,108,119,95,116,138,118,117,116,117,111,99,114,110,119,133,121,112,104,107,97,120,129,118,120,131,115,123,116,112,92,93,123,116,109,138,115,113,102,109,97,110,122,115,112,133,117,119,111,111,110,104,115,116,117,140,119,124,106,113,109,121,122,123,122,134,113,123,121,116,93,100,122,113,103,134,112,111,93,101,102,108,114,99,114,137,115,122,111,117,112,113,126,115,108,136,113,112,114,112,99,119,119,116,122,135,114,129,127,123,103,130,118,111,112,129,112,109,105,104,104,109,126,122,114,117,109,124,114,122,87,103,121,117,116,134,128,120,123,123,83,104,106,109,105,136,116,106,107,104,95,108,94,90,114,132,116,115,100,90,98,107,99,109,107,136,111,111,114,100,105,118,88,101,111,132,113,99,85,100,103,99,108,108,105,134,109,105,119,108,106,107,94,108,105,131,107,99,107,108,96,100,100,118,116,105,94,111,109,125,115,99,122,125,115,101,117,111,96,97,112,122,126,112,118,135,111,121,120,118,100,107,124,116,120,134,117,110,89,109,108,108,118,103,116,135,118,122,115,129,106,107,105,116,106,135,120,122,105,98,118,124,128,121,123,137,121,121,123,120,89,129,117,122,115,133,129,112,109,91,63,111,119,110,122,135,113,116,114,111,91,112,112,116,126,137,128,123,125,118,116,115,121,122,123,136,105,133,118,120,82,110,115,114,118,132,120,116,110,108,87,120,120,109,108,136,121,119,121,113,98,113,120,102,124,137,107,122,122,92,95,123,120,121,126,136,115,120,122,110,108,107,124,118,118,137,113,119,109,93,97,118,107,122,115,122,123,129,118,125,113,110,109,117,119,129,134,126,128,119,115,109,129,124,120,131,114,127,119,117,101,103,113,117,104,126,113,116,110,107,102,122,109,109,117,137,113,116,120,120,118,112,121,121,113,137,116,115,114,101,99,131,124,129,121,130,115,120,117,112,96,97,123,112,110,137,108,114,104,114,99,128,113,107,117,137,116,122,116,117,109,107,117,120,122,138,127,128,122,117,110,127,125,113,117,135,114,133,121,116,93,107,115,119,102,133,111,115,104,99,103,105,102,107,118,136,111,129,116,116,97,99,105,118,112,130,119,111,107,107,97,122,130,120,122,117,114,128,124,119,103,117,122,114,104,127,114,110,108,113,102,104,114,119,115,113,111,119,108,125,110,127,107,113,116,130,127,137,128,125,134,107,110,107,100,134,100,98,104,97,100,96,98,89,83,128,92,90,92,102,95,97,97,94,95,132,99,94,103,106,101,107,106,95,84,133,96,90,78,96,97,97,98,96,88,130,99,93,93,78,97,93,93,93,83,131,90,89,91,105,99,108,129,127,119,135,117,114,110,123,128,123,132,127,119,124,116,114,117,124,107,104,118,120,118,134,110,126,115,113,92,95,115,118,108,138,105,110,112,95,72,117,114,117,113,136,112,119,111,121,106,102,118,119,117,135,120,121,110,106,101,131,120,117,118,134,120,125,111,112,101,98,126,124,114,131,115,112,113,107,84,117,120,118,112,115,117,129,110,120,115,114,112,114,110,123,123,127,125,117,136,127,124,116,122,134,111,134,121,119,70,91,120,107,113,134,109,113,113,93,60,78,104,91,108,136,101,110,107,111,99,93,112,102,109,134,108,107,103,101,78,121,126,115,129,134,114,129,125,112,63,117,117,110,124,136,115,119,105,94,71,103,98,106,104,135,100,118,108,106,110,94,109,106,103,136,122,133,122,117,138,104,106,86,84,84,82,47,38,38,38,39,36,29,31,28,30,29,25], */
	  data: [0.5, 0.3, 0.7, 0.2, 0.7, 0.3, 0.5]
	});

}